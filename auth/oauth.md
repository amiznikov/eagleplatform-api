## Авторизация и регистрация

Пользователь может получить временный ключ авторизации по системе OAuth с помощью специального API

Для доступа к API Eagleplatform с Вашего сайта предусмотрен механизм серверной авторизации на базе протокол OAuth 2.0﻿. Он позволяет реализовать безопасную аутентификацию пользователей на Вашем сайте через Eagleplatform и получить доступ к API с сервера Вашего приложения.

Процесс авторизации сайта состоит из 4-х шагов:

* Получение ключей для доступа к API через OAuth
* Передача серверу авторизации значение client_id для получения code
* Передача сайту значения code для получения ключа доступа
* Получение сервером приложения ключа доступа access_token для доступа к API Eagleplatform

В результате прохождения процесса авторизации Вам выдаётся ключ доступа access_token, c помощью которого Вы можете выполнять запросы к API Eagleplatform от имени пользователя или от имени приложения. В зависимости от набора полученных прав доступа некоторые методы API могут быть недоступны.

### Получение ключей для доступа к API через OAuth

Для получения ключей нужно обратиться в техническую поддержку с просбой выделить ключ и передать в письме следующую информацию.

* Адрес вашего сайта. Например: http://example.com
* Адрес возврата. Например: http://example.com/callback
* Адрес сайта и адрес возврата должны пренадлежать одному домену.

### Передача серверу авторизации значение client_id
Значение client_id генериуеться из открытого и секретного ключей вашего приложения которые Вы получили первом этапе.
Для авторизации с помощью client_id нужно передать его по ссылка вида:

    http://auth.eagleplatform.com/oauth2/authorize? client_id= *client_id*

### Передача сайту значения code для получения ключа доступа 
При успешной авторизаци сервер делает переадресаци на callback_url (http://example.com/callback) с параметром code по которому Вы можете получить ключ доступа access_token к API.

Параметр code может быть использован в течение 1 часа для получения ключа доступа к API access_token с Вашего сервера.

### Получение сервером приложения ключа доступа access_token для доступа к API Eagleplatform 
Для получения access_token необходимо выполнить запрос с Вашего сервера на URL https://auth.eagleplatform.com/oauth2/access_token с передачей параметра code и секретных данных приложения: client_id и client_secret.

    https://auth.eagleplatform.com/oauth2/access_token? client_id= *client_id* client_secret= *client_secre+* code= *code*

В результате выполнения данного запроса Ваш сервер получит вновь созданный access_token. Процедуру авторизации приложения необходимо повторять в случае истечения срока действия access_token.

* Адрес API
* auth
* Входные параметры

Необходимо запросить доступ к API у службы поддержки и пройти аутентификацию приложения по протоколу OAuth 2.0

### Выходные данные

При успешном прохождении аутентификации выдается токен для выполнения API запросов от имени указанного пользователя.
